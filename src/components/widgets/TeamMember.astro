---
import WidgetWrapper from "./WidgetWrapper.astro";
import Badge from "../ui/Badge.astro";
import type { TeamMemberProps } from "../../types/types";

const { member, id, isDark = false, classes = {}, bg } = Astro.props as TeamMemberProps;
---

<WidgetWrapper id={id} isDark={isDark} bg={bg} classes={classes}>
    <div class="max-w-4xl mx-auto md:flex md:gap-12 items-center">
        <div class="md:w-1/3 mb-8 md:mb-0">
            <div class="aspect-[3/4] rounded-2xl bg-card border border-border overflow-hidden flex items-center justify-center">
                {
                    member.image ? (
                        typeof member.image === "string" ? (
                            <img
                                src={member.image}
                                alt={member.name}
                                class="w-full h-full object-cover"
                            />
                        ) : (
                            <img
                                src={member.image.src}
                                alt={member.name}
                                class="w-full h-full object-cover"
                            />
                        )
                    ) : (
                        <div class="text-6xl text-primary/30 font-display">
                            {member.name.charAt(0)}
                        </div>
                    )
                }
            </div>
        </div>
        <div class="md:w-2/3">
            <h2 class="text-4xl md:text-5xl font-medium font-display text-foreground mb-2">
                {member.name}
            </h2>
            <p class="text-primary font-medium mb-6">{member.role}</p>
            <div class="space-y-4">
                {member.bio.map((paragraph) => (
                    <p class="text-muted-foreground leading-relaxed" set:html={paragraph} />
                ))}
            </div>
            {
                member.credentials && member.credentials.length > 0 && (
                    <div class="mt-6 flex flex-wrap gap-2">
                        {member.credentials.map((cred) => (
                            <Badge>{cred}</Badge>
                        ))}
                    </div>
                )
            }
        </div>
    </div>
</WidgetWrapper>
